<template>
<div class="c-container">
        <lightning-layout multiple-rows="true">
            <lightning-layout-item padding="around-small" size="12">
                <lightning-layout>
                    <lightning-layout-item padding="around-small" size="6">
                        <div class="page-section page-right">
                            <c-filter-movies-lwc 
                                    onnewsearch={handleNewSearch}
                                    onnewmovie={showNewMovieModal}
                            ></c-filter-movies-lwc>
                        <template if:true={movies}>
                            <div class="slds-grid slds-wrap movies-results">
                                    <template for:each={movies} for:item="movie">
                                                <c-movies-results-lwc  class="slds-medium-size--1-of-3 slds-small-size--1-of-1"
                                                    key={movie.Id} 
                                                    movie={movie} 
                                                    onclick={showMovie}></c-movies-results-lwc>
                                    </template>
                                    </div>
                        </template>
                        <template if:true={error}>
                            <c-error-panel errors={error}>
                            </c-error-panel> 
                        </template>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item padding="around-small" size="6">
                        <div class="page-section page-main">
                            <c-movie-preview-lwc
                                movie={selectedMovie}
                                onrefreshmovie={refreshMovieList}></c-movie-preview-lwc>
                        </div>

                    </lightning-layout-item>
                </lightning-layout>
            </lightning-layout-item>
        </lightning-layout>
    </div>
<template if:true={openNewMovieModal}>
    <c-new-movie-modal-lwc 
        onclosemodal={closeNewMovieModal}
        onrefreshmovie={refreshMovieList}></c-new-movie-modal-lwc>
</template>
</template>
